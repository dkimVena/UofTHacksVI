{"ast":null,"code":"import _regeneratorRuntime from \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/src/components/Auth/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Grid, Form, Segment, Button, Header, Message, Icon } from 'semantic-ui-react';\nimport firebase from 'lib/firebase';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: '',\n      password: '',\n      errors: [],\n      loading: false\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.displayErrors = function (errors) {\n      return errors.map(function (error, i) {\n        return React.createElement(\"p\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, error.message);\n      });\n    };\n\n    _this.isFormValid = function (_ref) {\n      var email = _ref.email,\n          password = _ref.password;\n      return email && password;\n    };\n\n    _this.handleInputError = function (errors, inputName) {\n      return errors.some(function (err) {\n        return err.message.toLowerCase().includes(inputName);\n      }) ? 'error' : '';\n    };\n\n    _this.handleSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n\n                if (!_this.isFormValid(_this.state)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _this.setState({\n                  errors: [],\n                  loading: true\n                });\n\n                _context.prev = 3;\n                _context.next = 6;\n                return firebase.auth().signInWithEmailAndPassword(_this.state.email, _this.state.password);\n\n              case 6:\n                _context.next = 12;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](3);\n                console.log(_context.t0);\n\n                _this.setState({\n                  errors: _this.state.errors.concat(_context.t0),\n                  loading: false\n                });\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          errors = _this$state.errors,\n          loading = _this$state.loading;\n      return React.createElement(Grid, {\n        textAlign: \"center\",\n        verticalAlign: \"middle\",\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 450\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h1\",\n        icon: true,\n        color: \"black\",\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"smile outline\",\n        color: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), \"Login to UofTHacksVI\"), React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        stacked: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        fluid: true,\n        name: \"email\",\n        className: this.handleInputError(errors, 'email'),\n        icon: \"mail\",\n        iconPosition: \"left\",\n        placeholder: \"Email Address\",\n        onChange: this.handleChange,\n        value: email,\n        type: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        fluid: true,\n        name: \"password\",\n        className: this.handleInputError(errors, 'password'),\n        icon: \"lock\",\n        iconPosition: \"left\",\n        placeholder: \"Password\",\n        onChange: this.handleChange,\n        value: password,\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: loading,\n        className: loading ? 'loading' : '',\n        fluid: true,\n        color: \"black\",\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Login\"))), errors.length > 0 && React.createElement(Message, {\n        error: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Errors\"), this.displayErrors(errors)), React.createElement(Message, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Don't have an account? \", React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Register\"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/TED/David/gook/UofTHacksVI/uoft-hacks-vi/web/src/components/Auth/Login.js"],"names":["React","Component","Link","Grid","Form","Segment","Button","Header","Message","Icon","firebase","Login","state","email","password","errors","loading","handleChange","e","setState","target","name","value","displayErrors","map","error","i","message","isFormValid","handleInputError","inputName","some","err","toLowerCase","includes","handleSubmit","preventDefault","auth","signInWithEmailAndPassword","console","log","concat","maxWidth","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon\n} from 'semantic-ui-react';\nimport firebase from 'lib/firebase';\n\nclass Login extends Component {\n  state = {\n    email: '',\n    password: '',\n    errors: [],\n    loading: false\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  displayErrors = errors =>\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\n\n  isFormValid = ({ email, password }) => email && password;\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(err => err.message.toLowerCase().includes(inputName))\n      ? 'error'\n      : '';\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n\n    if (this.isFormValid(this.state)) {\n      this.setState({ errors: [], loading: true });\n      try {\n        await firebase\n          .auth()\n          .signInWithEmailAndPassword(this.state.email, this.state.password);\n      } catch (err) {\n        console.log(err);\n        this.setState({\n          errors: this.state.errors.concat(err),\n          loading: false\n        });\n      }\n    }\n  };\n\n  render() {\n    const { email, password, errors, loading } = this.state;\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h1\" icon color=\"black\" textAlign=\"center\">\n            <Icon name=\"smile outline\" color=\"black\" />\n            Login to UofTHacksVI\n          </Header>\n          <Form onSubmit={this.handleSubmit} size=\"large\">\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"email\"\n                className={this.handleInputError(errors, 'email')}\n                icon=\"mail\"\n                iconPosition=\"left\"\n                placeholder=\"Email Address\"\n                onChange={this.handleChange}\n                value={email}\n                type=\"email\"\n              />\n              <Form.Input\n                fluid\n                name=\"password\"\n                className={this.handleInputError(errors, 'password')}\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                onChange={this.handleChange}\n                value={password}\n                type=\"password\"\n              />\n              <Button\n                disabled={loading}\n                className={loading ? 'loading' : ''}\n                fluid\n                color=\"black\"\n                size=\"large\"\n              >\n                Login\n              </Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Errors</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message>\n            Don't have an account? <Link to=\"/register\">Register</Link>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}